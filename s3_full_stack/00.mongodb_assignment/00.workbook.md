
# MongoDB Assignment Workbook

**Dataset:** `db.companies` (20 SDE1 hiring companies)

---

## Section A. CRUD Basics (40 Queries)

1. Insert a new company document for "Tesla" in Bangalore with base = 29 LPA.
 
response : 
db.companies.insertOne({
  name: "Tesla",
  location: "Bangalore",
  salaryBand: { base: 29, bonus: 4, stock: 6 },
  hiringCriteria: { cgpa: 7.0, skills: ["DSA", "Python", "Distributed Systems"], experience: "1-2 years" },
  interviewRounds: [
    { round: 1, type: "OA" },
    { round: 2, type: "Technical" },
    { round: 3, type: "HR" }
  ],
  benefits: ["Relocation", "WFH"],
  headcount: 800
});

2. Insert multiple new companies at once (add "Stripe" and "Coinbase").

query : db.companies.insertMany([
  { name: "Stripe", location: "Bangalore", salaryBand: { base: 40, bonus: 8, stock: 12 } },
  { name: "Coinbase", location: "Hyderabad", salaryBand: { base: 38, bonus: 6, stock: 15 } }
])

response : 
{
  acknowledged: true,
  insertedIds: {
    '0': ObjectId('68b68867c13f1f869858c809'),
    '1': ObjectId('68b68867c13f1f869858c80a')
  }
}

3. Find all companies.

query : db.companies.find();

response : 
{
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 30,
    bonus: 5,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  headcount: 2000
}

......

{
  _id: ObjectId('68b67f12b1891130398e4ec2'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 29,
    bonus: 4,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  headcount: 800
}

4. Find one company (`findOne()`) in Bangalore.

query: db.companies.findOne({ location: "Bangalore" })

response : 
{
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 30,
    bonus: 5,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  headcount: 2000
}

5. Find companies offering base > 30 LPA.
query : db.companies.findOne({ salaryBand : {$gt : { base : 30}}})

response : 
{
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 30,
    bonus: 5,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  headcount: 2000
}
6. Find companies in Hyderabad.

query : db.companies.find({ location: "Hyderabad" })

response : 
{
  _id: ObjectId('68b67eacb1891130398e4eb0'),
  name: 'Amazon',
  location: 'Hyderabad',
  salaryBand: {
    base: 28,
    bonus: 3,
    stock: 12
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'OS',
      'C++'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'DSA Interview'
    },
    {
      round: 3,
      type: 'System Design'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'WFH',
    'Stock Options'
  ],
  headcount: 5000
}
{
  _id: ObjectId('68b67eacb1891130398e4eb1'),
  name: 'Microsoft',
  location: 'Hyderabad',
  salaryBand: {
    base: 32,
    bonus: 6,
    stock: 15
  },
  hiringCriteria: {
    cgpa: 8,
    skills: [
      'DSA',
      'C#',
      'System Design'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Health Insurance',
    'Stock Options',
    'Gym'
  ],
  headcount: 3000
}
{
  _id: ObjectId('68b67eacb1891130398e4eb3'),
  name: 'Apple',
  location: 'Hyderabad',
  salaryBand: {
    base: 33,
    bonus: 4,
    stock: 18
  },
  hiringCriteria: {
    cgpa: 8,
    skills: [
      'C++',
      'OS',
      'DSA'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'System Design'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'Device Discounts'
  ],
  headcount: 2500
}
{
  _id: ObjectId('68b67eacb1891130398e4eb6'),
  name: 'Salesforce',
  location: 'Hyderabad',
  salaryBand: {
    base: 29,
    bonus: 4,
    stock: 9
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'Java',
      'DSA',
      'Cloud'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Stock Options',
    'Free Meals'
  ],
  headcount: 2200
}
{
  _id: ObjectId('68b67f1eb1891130398e4ec4'),
  name: 'Coinbase',
  location: 'Hyderabad',
  salaryBand: {
    base: 38,
    bonus: 6,
    stock: 15
  }
}

7. Find companies requiring CGPA >= 8.0.

query : db.companies.findOne({  hiringCriteria : {$gte : { cgpa : 8.0}}})

response : {
  _id: ObjectId('68b67eacb1891130398e4eb1'),
  name: 'Microsoft',
  location: 'Hyderabad',
  salaryBand: {
    base: 32,
    bonus: 6,
    stock: 15
  },
  hiringCriteria: {
    cgpa: 8,
    skills: [
      'DSA',
      'C#',
      'System Design'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Health Insurance',
    'Stock Options',
    'Gym'
  ],
  headcount: 3000
}
8. Find companies that list "System Design" in skills.

query : db.companies.find({ "hiringCriteria.skills": "System Design" })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 30,
    bonus: 5,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  headcount: 2000
}

... 


{
  _id: ObjectId('68b67eacb1891130398e4ec0'),
  name: 'Atlassian',
  location: 'Bangalore',
  salaryBand: {
    base: 27,
    bonus: 4,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 8,
    skills: [
      'DSA',
      'Java',
      'System Design'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Stock Options',
    'Health Insurance'
  ],
  headcount: 1300
}
9. Find companies that offer "Relocation".

query : db.companies.findOne({  benefits : "Relocation"})

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 30,
    bonus: 5,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  headcount: 2000
}
10. Find companies with stock >= 15 LPA.

query : db.companies.find({ "salaryBand.stock": { $gte: 15 } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eb1'),
  name: 'Microsoft',
  location: 'Hyderabad',
  salaryBand: {
    base: 32,
    bonus: 6,
    stock: 15
  },
  hiringCriteria: {
    cgpa: 8,
    skills: [
      'DSA',
      'C#',
      'System Design'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Health Insurance',
    'Stock Options',
    'Gym'
  ],
  headcount: 3000
}
... 
{
  _id: ObjectId('68b68867c13f1f869858c80a'),
  name: 'Coinbase',
  location: 'Hyderabad',
  salaryBand: {
    base: 38,
    bonus: 6,
    stock: 15
  }
}

11. Find companies with at least 4 interview rounds.

query : db.companies.find({ "interviewRounds.3": { $exists: true } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 30,
    bonus: 5,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  headcount: 2000
}

... 

{
  _id: ObjectId('68b67eacb1891130398e4ec1'),
  name: 'Goldman Sachs',
  location: 'Bangalore',
  salaryBand: {
    base: 22,
    bonus: 5,
    stock: 8
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'Finance',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'Health Insurance'
  ],
  headcount: 1700
}
12. Find companies with headcount > 5000.

query : db.companies.find({ headcount: { $gt: 5000 } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 30,
    bonus: 5,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  headcount: 2000
} 

.... 

{
  _id: ObjectId('68b67eacb1891130398e4ebd'),
  name: 'TCS Digital',
  location: 'Pune',
  salaryBand: {
    base: 7,
    bonus: 1,
    stock: 0
  },
  hiringCriteria: {
    cgpa: 6,
    skills: [
      'DSA',
      'Java'
    ],
    experience: '0-1 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Aptitude'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Training',
    'WFH'
  ],
  headcount: 15000
}

13. Insert a company with only `name` and `location`.

query : db.companies.insertOne({ name: "Freshworks", location: "Chennai" })

response : {
  acknowledged: true,
  insertedId: ObjectId('68b693abc13f1f869858c80b')
}

14. Update Amazon’s bonus to 6.

query : db.companies.updateOne(
  { name: "Amazon" },
  { $set: { "salaryBand.bonus": 6 } }
)

reponse : 
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}

15. Update all companies in Hyderabad to add benefit = "Free Snacks".

query : db.companies.updateMany(
  { location: "Hyderabad" },
  { $addToSet: { benefits: "Free Snacks" } }
)

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 6,
  modifiedCount: 6,
  upsertedCount: 0
}


16. Add skill "Python" to Google’s criteria.
query : db.companies.updateOne(
  { name: "Google" },
  { $addToSet: { "hiringCriteria.skills": "Python" } }
)

reponse : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}

17. Remove "Gym" from Microsoft benefits.

query : db.companies.updateOne(
  { name: "Microsoft" },
  { $pull: { benefits: "Gym" } }
)

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}

18. Replace entire salaryBand for Netflix.

query : db.companies.updateOne(
  { name: "Netflix" },
  { $set: { salaryBand: { base: 40, bonus: 8, stock: 20 } } }
)

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}

19. Delete company "Infosys".

query : db.companies.deleteOne({ name: "Infosys" })

response : {
  acknowledged: true,
  deletedCount: 1
} 

20. Delete all companies with base < 10.

query : db.companies.deleteMany({ "salaryBand.base": { $lt: 10 } })

repsonse : {
  acknowledged: true,
  deletedCount: 1
}

21. Use `$set` to add a new field `isTopTier: true` for Google.

query : db.companies.updateOne(
  { name: "Google" },
  { $set: { isTopTier: true } }
) 

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}

22. Use `$inc` to increase Amazon’s stock by 2.

query : db.companies.updateOne(
  { name: "Amazon" },
  { $inc: { "salaryBand.stock": 2 } }
)

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}

23. Use `$rename` to rename field `headcount` → `employeeCount`.

query : db.companies.updateMany({}, { $rename: { headcount: "employeeCount" } }) 
 * empty object works like spread operator .

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 25,
  modifiedCount: 20,
  upsertedCount: 0
}

24. Use `$unset` to remove "bonus" from salaryBand.

query : db.companies.updateMany({}, { $unset: { "salaryBand.bonus": "" } })

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 25,
  modifiedCount: 24,
  upsertedCount: 0
}


25. Insert 5 dummy companies with minimal fields.
 query : db.companies.insertMany([
  { name: "db1" },
  { name: "db2" },
  { name: "db3" },
  { name: "db4" },
  { name: "db5" }
])

response : {
  acknowledged: true,
  insertedIds: {
    '0': ObjectId('68b6e46cc13f1f869858c80c'),
    '1': ObjectId('68b6e46cc13f1f869858c80d'),
    '2': ObjectId('68b6e46cc13f1f869858c80e'),
    '3': ObjectId('68b6e46cc13f1f869858c80f'),
    '4': ObjectId('68b6e46cc13f1f869858c810')
  }
}


26. Delete all dummy companies.

db.companies.deleteMany({ name: { $regex: /^db/ } }) 
or 
db.companies.deleteMany({ name: "db1" }, { name: "db2"}, {name: "db3"} ...)


response : {
  acknowledged: true,
  deletedCount: 5
}

27. Find all companies, project only `name` and `salaryBand`.

query : db.companies.find({}, { name: 1, salaryBand: 1 })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  salaryBand: {
    base: 30,
    stock: 10
  }
}
... 
{
  _id: ObjectId('68b67f1eb1891130398e4ec4'),
  name: 'Coinbase',
  salaryBand: {
    base: 38,
    stock: 15
  }
}

28. Find all companies, exclude `_id`.

query : db.companies.find({}, { _id: 0, name: 1, location: 1 })

response : 
{
  name: 'Google',
  location: 'Bangalore'
}
... 
{
  name: 'Coinbase',
  location: 'Hyderabad'
}

29. Find only `name` and `benefits` for Microsoft.

query : db.companies.find({ name: "Microsoft" }, { name: 1, benefits: 1 })

response : {
  _id: ObjectId('68b67eacb1891130398e4eb1'),
  name: 'Microsoft',
  benefits: [
    'Health Insurance',
    'Stock Options',
    'Free Snacks'
  ]
}

30. Count all companies in Bangalore.

query : db.companies.countDocuments({ location: "Bangalore" })

response : 14 

31. Count all companies requiring CGPA >= 7.0.

query : db.compaines.countDocuments({ hiringCriteria : {$gte :  7.0}}) 

* will give error 

db.companies.countDocuments({ "hiringCriteria.cgpa": { $gte: 7.0 } }) 
* wont give any error cause it includes spacing 

repsonse : 17
32. Get distinct locations.

query : db.companies.distinct("location")
 * distinct will give the exact array 

reponse : [ 'Bangalore', 'Chennai', 'Gurgaon', 'Hyderabad', 'Mumbai', 'Noida' ]

33. Get distinct benefits offered.

query :db.companies.distinct("benefits")

* it will give only the different benifits as given or mentioned in different compaines

response :  [
  'Device Discounts',
  'Free Food',
  'Free Lunch',
  'Free Meals',
  'Free Snacks',
  'Free Streaming',
  'Health Insurance',
  'Relocation',
  'Stock Options',
  'WFH'
] 

34. Check if any company offers stock = 20.

query : db.companies.findOne({ "salaryBand.stock": 20 })

reponse : {
  _id: ObjectId('68b67eacb1891130398e4eb2'),
  name: 'Meta',
  location: 'Bangalore',
  salaryBand: {
    base: 35,
    stock: 20
  },
  hiringCriteria: {
    cgpa: 8.5,
    skills: [
      'DSA',
      'React',
      'System Design'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'DSA'
    },
    {
      round: 3,
      type: 'System Design'
    },
    {
      round: 4,
      type: 'Culture Fit'
    }
  ],
  benefits: [
    'Stock Options',
    'Health Insurance',
    'Free Meals'
  ],
  employeeCount: 1500
}

35. Insert company with nested object `{ perks: { transport: true } }`.

query : db.companies.updateOne(
  { name: "Swiggy" },
  { $set: { perks: { transport: true } } }
)

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}

36. Push new round `{ round: 5, type: "CTO Interview" }` to Meta.

query : db.companies.updateOne(
  { name: "Meta" },
  { $push: { interviewRounds: { round: 5, type: "CTO Interview" } } }
)

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}

37. Pull "HR" round out of Amazon’s rounds.

query : db.companies.updateOne(
  { name: "Amazon" },
  { $pull: { interviewRounds: { type: "HR" } } }
)

reponse : 
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}

38. Add "Health Insurance" only if not present in Swiggy benefits.

query : db.companies.updateOne(
  { name: "Swiggy" },
  { $addToSet: { benefits: "Health Insurance" } }
)

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}

39. Increase base salary by 2 for all companies in Bangalore.

query : db.companies.updateMany(
  { location: "Bangalore" },
  { $inc: { "salaryBand.base": 2 } }
)

reponse: {
  acknowledged: true,
  insertedId: null,
  matchedCount: 14,
  modifiedCount: 14,
  upsertedCount: 0
}


40. Delete all companies in "Delhi" (if any exist).

query : db.companies.deleteMany({ location: "Delhi" }) 

response : {
  acknowledged: true,
  deletedCount: 0
}

* no location for delhi 
---

## Section B. Advanced Queries (60 Queries)

41. Find companies with base between 25–35.

query : db.companies.find({"salaryBand.base": { $gt: 25 , $lt: 35}})
* db.companies.find({salaryBand: {$lt : 35}, {$gt: 25}}) this wont work as we cannot pass 2 objects inside 

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
... 
{
  _id: ObjectId('68b680e6c13f1f869858c808'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}

42. Find companies where stock < 10.

query : db.companies.find({ "salaryBand.stock": { $lt: 10 } })

reponse : {
  _id: ObjectId('68b67eacb1891130398e4eb5'),
  name: 'Adobe',
  location: 'Noida',
  salaryBand: {
    base: 26,
    stock: 8
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'OOPS',
      'C++'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Health Insurance',
    'WFH'
  ],
  employeeCount: 1800
}
... 
{
  _id: ObjectId('68b680e6c13f1f869858c808'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}

43. Find companies with bonus > 5 AND stock > 10.

query : db.companies.find({ "salaryBand.bonus": { $gt: 5 }, "salaryBand.stock": { $gt: 10 } })
* this wont work 

db.companies.find({ "salaryBand.bonus": { $gt: 5 }, "salaryBand.stock": { $gt: 10 } }) 

* this will work 

reponse : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  salaryBand: {
    stock: 10
  }
} 

...

{
  _id: ObjectId('68b67f1eb1891130398e4ec4'),
  name: 'Coinbase',
  salaryBand: {
    stock: 15
  }
}

44. Find companies with base >= 30 OR stock >= 12.

query : db.companies.find({
  $or: [
    { "salaryBand.base": { $gte: 30 } },
    { "salaryBand.stock": { $gte: 12 } }
  ]
})

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
.... 
{
  _id: ObjectId('68b68867c13f1f869858c80a'),
  name: 'Coinbase',
  location: 'Hyderabad',
  salaryBand: {
    base: 38,
    stock: 15
  },
  benefits: [
    'Free Snacks'
  ]
}

45. Find companies NOT requiring "OS".

query : db.companies.find({ "hiringCriteria.skills": { $ne: "OS" } }) 

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
... 
{
  _id: ObjectId('68b680e6c13f1f869858c808'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}

46. Find companies requiring at least one skill from \["Java", "C++"].

query : db.companies.find({ $or : [
  {"hiringCriteria.skills" : "Java"},
  {"hiringCriteria.skills" : "C++"}
]})

query2 : db.companies.find({ "hiringCriteria.skills": { $in: ["Java", "C++"] } })

* both will work as in is more efficent when working with arrays
* or we will use it when it involves multiple or different fields 


response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
... 
{
  _id: ObjectId('68b67eacb1891130398e4ec1'),
  name: 'Goldman Sachs',
  location: 'Bangalore',
  salaryBand: {
    base: 24,
    stock: 8
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'Finance',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'Health Insurance'
  ],
  employeeCount: 1700
}

47. Find companies requiring BOTH "DSA" and "System Design".

 query: db.companies.find({ "hiringCriteria.skills": { $all: ["DSA", "System Design"] } })

 here same as "in" and "or"

 response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
... 
{
  _id: ObjectId('68b67eacb1891130398e4ec0'),
  name: 'Atlassian',
  location: 'Bangalore',
  salaryBand: {
    base: 29,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 8,
    skills: [
      'DSA',
      'Java',
      'System Design'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Stock Options',
    'Health Insurance'
  ],
  employeeCount: 1300
}
48. Find companies not offering WFH.

query : db.companies.find({ benefits: { $ne: "WFH" } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eb1'),
  name: 'Microsoft',
  location: 'Hyderabad',
  salaryBand: {
    base: 32,
    stock: 15
  },
  hiringCriteria: {
    cgpa: 8,
    skills: [
      'DSA',
      'C#',
      'System Design'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Health Insurance',
    'Stock Options',
    'Free Snacks'
  ],
  employeeCount: 3000
}
...
{
  _id: ObjectId('68b693abc13f1f869858c80b'),
  name: 'Freshworks',
  location: 'Chennai'
}

49. Find companies with > 3 benefits.

query : db.companies.find({
  $expr: { $gt: [ { $size: "$benefits" }, 3 ] } 
})
* this wont work as MongoServerError[BadValue]: Failed to parse $size. Expected a number in: $size: { $gt: 3 } this will be the error message


db.companies.find({
  $expr: { $gt: [ { $size: "$benefits" }, 3 ] }
}) 

for this query 

MongoServerError[Location17124]: Executor error during find command: assignment.companies :: caused by :: The argument to $size must be an array, but was of type: missing

THIS WILL BE THE ERROR 

actual query : db.companies.find({
  benefits: { $exists: true, $type: "array" },
  $expr: { $gt: [ { $size: "$benefits" }, 3 ] }
})

response :  EMPTY AS THERE ARE NO VALUES GT 3 

50. Find companies with exactly 4 interview rounds.

query : db.companies.find({ "interviewRounds.3": { $exists: true }, "interviewRounds.4": { $exists: false } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}...
{
  _id: ObjectId('68b67eacb1891130398e4ec1'),
  name: 'Goldman Sachs',
  location: 'Bangalore',
  salaryBand: {
    base: 24,
    stock: 8
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'Finance',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'Health Insurance'
  ],
  employeeCount: 1700
}
51. Find companies where employeeCount > 2000.

query : db.companies.find({ "interviewRounds.3": { $exists: true }, "interviewRounds.4": { $exists: false } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}...
{
  _id: ObjectId('68b67eacb1891130398e4ec1'),
  name: 'Goldman Sachs',
  location: 'Bangalore',
  salaryBand: {
    base: 24,
    stock: 8
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'Finance',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'Health Insurance'
  ],
  employeeCount: 1700
}
52. Find companies offering salaries in multiples of 5.

query : db.companies.find({ "salaryBand.base": { $mod: [5, 0] } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eb4'),
  name: 'Netflix',
  location: 'Mumbai',
  salaryBand: {
    base: 40,
    stock: 20
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'Java',
      'DSA',
      'Microservices'
    ],
    experience: '2-4 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Technical'
    },
    {
      round: 2,
      type: 'System Design'
    },
    {
      round: 3,
      type: 'Managerial'
    }
  ],
  benefits: [
    'Stock Options',
    'Free Streaming',
    'WFH'
  ],
  employeeCount: 800
}

53. Find companies where CGPA is in \[6.5, 7.0, 7.5].

query : db.companies.find({ "hiringCriteria.cgpa": { $in: [6.5, 7.0, 7.5] } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}...
{
  _id: ObjectId('68b680e6c13f1f869858c808'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}


54. Find companies not in Bangalore.

query : db.companies.find({ location: { $ne: "Bangalore" } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eb0'),
  name: 'Amazon',
  location: 'Hyderabad',
  salaryBand: {
    base: 28,
    stock: 14
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'OS',
      'C++'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'DSA Interview'
    },
    {
      round: 3,
      type: 'System Design'
    }
  ],
  benefits: [
    'WFH',
    'Stock Options',
    'Free Snacks'
  ],
  employeeCount: 5000
}
... 
{
  _id: ObjectId('68b693abc13f1f869858c80b'),
  name: 'Freshworks',
  location: 'Chennai'
}

55. Use regex to find skills ending in "Design".

 query : db.companies.find({ "hiringCriteria.skills": { $regex: /Design$/ } })

 response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
...
{
  _id: ObjectId('68b67eacb1891130398e4ec0'),
  name: 'Atlassian',
  location: 'Bangalore',
  salaryBand: {
    base: 29,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 8,
    skills: [
      'DSA',
      'Java',
      'System Design'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Stock Options',
    'Health Insurance'
  ],
  employeeCount: 1300
}

56. Use regex to find companies starting with "A".

 query : db.companies.find({ name: { $regex: /^A/ } })

 response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
... 
{
  _id: ObjectId('68b67eacb1891130398e4ec0'),
  name: 'Atlassian',
  location: 'Bangalore',
  salaryBand: {
    base: 29,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 8,
    skills: [
      'DSA',
      'Java',
      'System Design'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Stock Options',
    'Health Insurance'
  ],
  employeeCount: 1300
}

57. Case-insensitive search for "amazon".

query : db.companies.find({ name: { $regex: /^amazon$/i } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eb0'),
  name: 'Amazon',
  location: 'Hyderabad',
  salaryBand: {
    base: 28,
    stock: 14
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'OS',
      'C++'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'DSA Interview'
    },
    {
      round: 3,
      type: 'System Design'
    }
  ],
  benefits: [
    'WFH',
    'Stock Options',
    'Free Snacks'
  ],
  employeeCount: 5000
}


58. Find companies where `salaryBand.stock` exists.

 query : db.companies.find({ "salaryBand.stock": { $exists: true } })

 response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
...
{
  _id: ObjectId('68b67f1eb1891130398e4ec4'),
  name: 'Coinbase',
  location: 'Hyderabad',
  salaryBand: {
    base: 38,
    stock: 15
  },
  benefits: [
    'Free Snacks'
  ]
}


59. Find companies where `perks` does NOT exist.

 query : db.companies.find({ perks: { $exists: false } })

 response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
... {
  _id: ObjectId('68b680e1c13f1f869858c807'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}

60. Find companies where `salaryBand.base` is of type number.

query : db.companies.find({ "salaryBand.base": { $type: "number" } })

response: {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
... 
{
  _id: ObjectId('68b67f1eb1891130398e4ec4'),
  name: 'Coinbase',
  location: 'Hyderabad',
  salaryBand: {
    base: 38,
    stock: 15
  },
  benefits: [
    'Free Snacks'
  ]
}


61. Sort companies by base ascending.

 query : db.companies.find().sort({ "salaryBand.base": 1 })

 response: {
  _id: ObjectId('68bac1a2e37dc23e2f216098'),
  name: 'Tesla',
  location: 'Bangalore'
}
...
{
  _id: ObjectId('68b67eacb1891130398e4eb3'),
  name: 'Apple',
  location: 'Hyderabad',
  salaryBand: {
    base: 33,
    stock: 18
  },
  hiringCriteria: {
    cgpa: 8,
    skills: [
      'C++',
      'OS',
      'DSA'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'System Design'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'Device Discounts',
    'Free Snacks'
  ],
  employeeCount: 2500
}

62. Sort companies by base descending.

db.companies.find().sort({ "salaryBand.base": -1 })

response : {
  _id: ObjectId('68b68867c13f1f869858c809'),
  name: 'Stripe',
  location: 'Bangalore',
  salaryBand: {
    base: 42,
    stock: 12
  }
} 
...
{
  _id: ObjectId('68b67eacb1891130398e4eb8'),
  name: 'Swiggy',
  location: 'Bangalore',
  salaryBand: {
    base: 26,
    stock: 5
  },
  hiringCriteria: {
    cgpa: 6.5,
    skills: [
      'DSA',
      'JavaScript',
      'Node.js'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    }
  ],
  benefits: [
    'Free Meals',
    'WFH',
    'Health Insurance'
  ],
  employeeCount: 1200,
  perks: {
    transport: true
  }
}

63. Sort by bonus, then stock.

db.companies.find().sort({ "salaryBand.bonus": 1, "salaryBand.stock": 1 })

response : {
  _id: ObjectId('68bac1a2e37dc23e2f216098'),
  name: 'Tesla',
  location: 'Bangalore'
}
...
{
  _id: ObjectId('68b67eacb1891130398e4eb0'),
  name: 'Amazon',
  location: 'Hyderabad',
  salaryBand: {
    base: 28,
    stock: 14
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'OS',
      'C++'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'DSA Interview'
    },
    {
      round: 3,
      type: 'System Design'
    }
  ],
  benefits: [
    'WFH',
    'Stock Options',
    'Free Snacks'
  ],
  employeeCount: 5000
}

64. Limit results to top 5 highest base salary.

db.companies.find().sort({ "salaryBand.base": -1 }).limit(5)

response: 
  _id: ObjectId('68b67f1eb1891130398e4ec3'),
  name: 'Stripe',
  location: 'Bangalore',
  salaryBand: {
    base: 42,
    stock: 12
  }
}
... {
  _id: ObjectId('68b67f1eb1891130398e4ec4'),
  name: 'Coinbase',
  location: 'Hyderabad',
  salaryBand: {
    base: 38,
    stock: 15
  },
  benefits: [
    'Free Snacks'
  ]
}


65. Skip first 5 and return next 5.

db.companies.find().sort({ "salaryBand.base": -1 }).skip(5).limit(5)

response: {
  _id: ObjectId('68b67eacb1891130398e4eb2'),
  name: 'Meta',
  location: 'Bangalore',
  salaryBand: {
    base: 37,
    stock: 20
  },
  hiringCriteria: {
    cgpa: 8.5,
    skills: [
      'DSA',
      'React',
      'System Design'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'DSA'
    },
    {
      round: 3,
      type: 'System Design'
    },
    {
      round: 4,
      type: 'Culture Fit'
    },
    {
      round: 5,
      type: 'CTO Interview'
    }
  ],
  benefits: [
    'Stock Options',
    'Health Insurance',
    'Free Meals'
  ],
  employeeCount: 1500
}
...
{
  _id: ObjectId('68b680e6c13f1f869858c808'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}

66. Find company with maximum base salary.

db.companies.find().sort({ "salaryBand.base": -1 }).limit(1)

response : {
  _id: ObjectId('68b67f1eb1891130398e4ec3'),
  name: 'Stripe',
  location: 'Bangalore',
  salaryBand: {
    base: 42,
    stock: 12
  }
}


67. Find company with minimum CGPA requirement.

db.companies.find().sort({ "hiringCriteria.cgpa": 1 }).limit(1)

response : {
  _id: ObjectId('68b67f1eb1891130398e4ec3'),
  name: 'Stripe',
  location: 'Bangalore',
  salaryBand: {
    base: 42,
    stock: 12
  }
}
68. Return first 3 companies alphabetically by name.

db.companies.find().sort({ name: 1 }).limit(3)

response :  {
  _id: ObjectId('68b67f1eb1891130398e4ec3'),
  name: 'Stripe',
  location: 'Bangalore',
  salaryBand: {
    base: 42,
    stock: 12
  }
}

69. Find companies with at least one "Technical" interview round.

db.companies.find({ "interviewRounds.type": "Technical" })

response: {
  _id: ObjectId('68b67eacb1891130398e4eb1'),
  name: 'Microsoft',
  location: 'Hyderabad',
  salaryBand: {
    base: 32,
    stock: 15
  },
  hiringCriteria: {
    cgpa: 8,
    skills: [
      'DSA',
      'C#',
      'System Design'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Health Insurance',
    'Stock Options',
    'Free Snacks'
  ],
  employeeCount: 3000
}
... 
{
  _id: ObjectId('68b680e6c13f1f869858c808'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}

70. Find companies where round 2 is "System Design".

db.companies.find({ "interviewRounds.1.type": "System Design" })

response : {
  _id: ObjectId('68b67eacb1891130398e4eb4'),
  name: 'Netflix',
  location: 'Mumbai',
  salaryBand: {
    base: 40,
    stock: 20
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'Java',
      'DSA',
      'Microservices'
    ],
    experience: '2-4 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Technical'
    },
    {
      round: 2,
      type: 'System Design'
    },
    {
      round: 3,
      type: 'Managerial'
    }
  ],
  benefits: [
    'Stock Options',
    'Free Streaming',
    'WFH'
  ],
  employeeCount: 800
}
...
{
  _id: ObjectId('68b67eacb1891130398e4eb7'),
  name: 'Uber',
  location: 'Bangalore',
  salaryBand: {
    base: 29,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Java',
      'Distributed Systems'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'System Design'
    },
    {
      round: 3,
      type: 'Technical'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'Health Insurance'
  ],
  employeeCount: 1600
}

71. Find companies where interviewRounds length > 3.

db.companies.find({ "interviewRounds.3": { $exists: true } })

response: {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
...
{
  _id: ObjectId('68b67eacb1891130398e4ec1'),
  name: 'Goldman Sachs',
  location: 'Bangalore',
  salaryBand: {
    base: 24,
    stock: 8
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'Finance',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'Health Insurance'
  ],
  employeeCount: 1700
}

72. Find companies where second benefit = "WFH".

db.companies.find({ "benefits.1": "WFH" })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
...
{
  _id: ObjectId('68b680e6c13f1f869858c808'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}

73. Use `$all` to find companies requiring \["DSA", "Java"].

db.companies.find({ "hiringCriteria.skills": { $all: ["DSA", "Java"] } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
...
{
  _id: ObjectId('68b67eacb1891130398e4ec1'),
  name: 'Goldman Sachs',
  location: 'Bangalore',
  salaryBand: {
    base: 24,
    stock: 8
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'Finance',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'Health Insurance'
  ],
  employeeCount: 1700
}

74. Use `$elemMatch` for base > 25 and stock > 5 in salaryBand.

db.companies.find({ salaryBand: { $elemMatch: { base: { $gt: 25 }, stock: { $gt: 5 } } } })
 * wont work 

db.companies.find({ "salaryBand.base": { $gt: 25 }, "salaryBand.stock": { $gt: 5 } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
.... {
  _id: ObjectId('68b68867c13f1f869858c80a'),
  name: 'Coinbase',
  location: 'Hyderabad',
  salaryBand: {
    base: 38,
    stock: 15
  },
  benefits: [
    'Free Snacks'
  ]
}

75. Use `$in` for location in \["Hyderabad", "Bangalore"].

db.companies.find({ location: { $in: ["Hyderabad", "Bangalore"] } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
...
{
  _id: ObjectId('68b68867c13f1f869858c80a'),
  name: 'Coinbase',
  location: 'Hyderabad',
  salaryBand: {
    base: 38,
    stock: 15
  },
  benefits: [
    'Free Snacks'
  ]
}

76. Use `$nin` for location not in \["Mumbai", "Pune"].

db.companies.find({ location: { $nin: ["Mumbai", "Pune"] } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
...
{
  _id: ObjectId('68b680e1c13f1f869858c807'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}

77. Find company closest to base = 30.


db.companies.aggregate([
  { $project: { name: 1, base: "$salaryBand.base", diff: { $abs: { $subtract: ["$salaryBand.base", 30] } } } },
  { $sort: { diff: 1 } },
  { $limit: 1 }
])

response : {
  _id: ObjectId('68b693abc13f1f869858c80b'),
  name: 'Freshworks',
  diff: null
}

78. Use `$not` to exclude base < 20.

db.companies.find({ "salaryBand.base": { $not: { $lt: 20 } } })


response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
...
{
  _id: ObjectId('68b680e1c13f1f869858c807'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}

79. Use `$expr` to find companies where bonus < base/10.

db.companies.find({ $expr: { $lt: ["$salaryBand.bonus", { $divide: ["$salaryBand.base", 10] }] } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}
...
{
  _id: ObjectId('68b67f1eb1891130398e4ec4'),
  name: 'Coinbase',
  location: 'Hyderabad',
  salaryBand: {
    base: 38,
    stock: 15
  },
  benefits: [
    'Free Snacks'
  ]
}


80. Use `$size` to find companies with exactly 2 benefits.

db.companies.find({ benefits: { $size: 2 } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eb5'),
  name: 'Adobe',
  location: 'Noida',
  salaryBand: {
    base: 26,
    stock: 8
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'OOPS',
      'C++'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Health Insurance',
    'WFH'
  ],
  employeeCount: 1800
}
...
{
  _id: ObjectId('68b680e6c13f1f869858c808'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}

81. Project new field `totalComp = base+bonus+stock`.

db.companies.aggregate([
  { $project: { name: 1, totalComp: { $add: ["$salaryBand.base", "$salaryBand.bonus", "$salaryBand.stock"] } } }
])

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  totalComp: null
}
...
{
  _id: ObjectId('68b67f1eb1891130398e4ec4'),
  name: 'Coinbase',
  totalComp: null
}

82. Find companies where totalComp > 45.

db.companies.aggregate([
  { $project: { name: 1, totalComp: { $add: ["$salaryBand.base", "$salaryBand.bonus", "$salaryBand.stock"] } } },
  { $match: { totalComp: { $gt: 45 } } }
])

response : null 

83. Sort companies by totalComp descending.

db.companies.aggregate([
  { $project: { name: 1, totalComp: { $add: ["$salaryBand.base", "$salaryBand.bonus", "$salaryBand.stock"] } } },
  { $sort: { totalComp: -1 } }
])

response : {
  _id: ObjectId('68b67eacb1891130398e4ebe'),
  name: 'Walmart Labs',
  totalComp: null
}
...
{
  _id: ObjectId('68b67eacb1891130398e4eb6'),
  name: 'Salesforce',
  totalComp: null
}

84. Use `$mul` to multiply stock by 2.

db.companies.updateMany({}, { $mul: { "salaryBand.stock": 2 } })

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 26,
  modifiedCount: 26,
  upsertedCount: 0
}


85. Use `$max` to ensure bonus >= 5.

db.companies.updateMany({}, { $max: { "salaryBand.bonus": 5 } })

86. Use `$min` to cap base salary at 35.

db.companies.updateMany({}, { $min: { "salaryBand.base": 35 } })

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 26,
  modifiedCount: 26,
  upsertedCount: 0
}


87. Use `$addToSet` to ensure unique benefit "WFH".

db.companies.updateMany({}, { $addToSet: { benefits: "WFH" } })

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 26,
  modifiedCount: 17,
  upsertedCount: 0
}


88. Use arrayFilters to update only 3rd round = "Tech Screen".

db.companies.updateMany(
  {},
  { $set: { "interviewRounds.$[elem].type": "Tech Screen" } },
  { arrayFilters: [{ "elem.round": 3 }] }
)
* this is giving serverError

as interviewRounds doesnt exist 

89. Update multiple docs with `$currentDate` for `lastUpdated`.

db.companies.updateMany({}, { $currentDate: { lastUpdated: true } })

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 26,
  modifiedCount: 26,
  upsertedCount: 0
}


90. Delete companies without benefits field.

db.companies.deleteMany({ benefits: { $exists: false } })

response : it will delete all the companies which have benifits as false 

91. Upsert: Update "Tesla" if exists, insert if not.

db.companies.updateOne(
  { name: "Tesla" },
  { $set: { location: "Bangalore" } },
  { upsert: true }
)

response : {
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 0,
  upsertedCount: 0
}


92. Find all companies but exclude "salaryBand".

db.companies.find({}, { salaryBand: 0 })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Tech Screen'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000,
  lastUpdated: 2025-09-07T06:38:45.337Z
}
...
{
  _id: ObjectId('68b67f1eb1891130398e4ec4'),
  name: 'Coinbase',
  location: 'Hyderabad',
  benefits: [
    'Free Snacks',
    'WFH'
  ],
  lastUpdated: 2025-09-07T06:38:45.337Z
}

93. Project only name and computed field `doubleStock = stock*2`.

db.companies.aggregate([
  { $project: { name: 1, doubleStock: { $multiply: ["$salaryBand.stock", 2] } } }
])

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  doubleStock: 40
}
...
{
  _id: ObjectId('68b67f1eb1891130398e4ec4'),
  name: 'Coinbase',
  doubleStock: 60
}


94. Match companies whose name length = 6 using `$expr`.

db.companies.find({ $expr: { $eq: [{ $strLenCP: "$name" }, 6] } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 20,
    bonus: 5
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Tech Screen'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000,
  lastUpdated: 2025-09-07T06:38:45.337Z
}
...
{
  _id: ObjectId('68b68867c13f1f869858c809'),
  name: 'Stripe',
  location: 'Bangalore',
  salaryBand: {
    base: 42,
    stock: 24,
    bonus: 5
  },
  benefits: [
    'WFH'
  ],
  lastUpdated: 2025-09-07T06:38:45.338Z
}

95. Query with `$mod`: base % 2 = 0.

db.companies.find({ "salaryBand.base": { $mod: [2, 0] } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 20,
    bonus: 5
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Tech Screen'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000,
  lastUpdated: 2025-09-07T06:38:45.337Z
}
....
{
  _id: ObjectId('68b68867c13f1f869858c80a'),
  name: 'Coinbase',
  location: 'Hyderabad',
  salaryBand: {
    base: 38,
    stock: 30,
    bonus: 5
  },
  benefits: [
    'Free Snacks',
    'WFH'
  ],
  lastUpdated: 2025-09-07T06:38:45.338Z
}

96. Query with `$where`: headcount > 2000.

db.companies.find({ $where: "this.employeeCount > 2000" })

* where is not allowed in the altas tier

db.companies.find({ employeeCount: { $gt: 2000 } })

response : {
  _id: ObjectId('68b67eacb1891130398e4eb0'),
  name: 'Amazon',
  location: 'Hyderabad',
  salaryBand: {
    base: 28,
    stock: 28,
    bonus: 5
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'OS',
      'C++'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'DSA Interview'
    },
    {
      round: 3,
      type: 'Tech Screen'
    }
  ],
  benefits: [
    'WFH',
    'Stock Options',
    'Free Snacks'
  ],
  employeeCount: 5000,
  lastUpdated: 2025-09-07T06:38:45.337Z
}
....
{
  _id: ObjectId('68b67eacb1891130398e4ebf'),
  name: 'Paytm',
  location: 'Noida',
  salaryBand: {
    base: 18,
    stock: 6,
    bonus: 5
  },
  hiringCriteria: {
    cgpa: 6.5,
    skills: [
      'DSA',
      'JavaScript'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Tech Screen'
    }
  ],
  benefits: [
    'Health Insurance',
    'Free Lunch',
    'WFH'
  ],
  employeeCount: 2500,
  lastUpdated: 2025-09-07T06:38:45.337Z
} 

97. Query using `$text` after creating text index on `skills`.

db.companies.createIndex({ "hiringCriteria.skills": "text" })
db.companies.find({ $text: { $search: "Java" } })

response : {
  _id: ObjectId('68b67eacb1891130398e4ec1'),
  name: 'Goldman Sachs',
  location: 'Bangalore',
  salaryBand: {
    base: 24,
    stock: 16,
    bonus: 5
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'Finance',
      'Java'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Tech Screen'
    },
    {
      round: 4,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'Health Insurance',
    'WFH'
  ],
  employeeCount: 1700,
  lastUpdated: 2025-09-07T06:38:45.337Z
}
...
{
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 20,
    bonus: 5
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Tech Screen'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000,
  lastUpdated: 2025-09-07T06:38:45.337Z
}

98. Use collation for case-insensitive sort by name.

query : db.companies.find().collation({ locale: "en", strength: 2 }).sort({ name: 1 })

response : {
  _id: ObjectId('68b67eacb1891130398e4eb5'),
  name: 'Adobe',
  location: 'Noida',
  salaryBand: {
    base: 26,
    stock: 8
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'OOPS',
      'C++'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Health Insurance',
    'WFH'
  ],
  employeeCount: 1800
}... 
{
  _id: ObjectId('68b67f12b1891130398e4ec2'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}

99. Query with `$type: "array"` on benefits.

query : db.companies.find({ benefits: { $type: "array" } })

reponse : {
  _id: ObjectId('68b67eacb1891130398e4eaf'),
  name: 'Google',
  location: 'Bangalore',
  salaryBand: {
    base: 32,
    stock: 10
  },
  hiringCriteria: {
    cgpa: 7.5,
    skills: [
      'DSA',
      'System Design',
      'Java',
      'Python'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'Online Assessment'
    },
    {
      round: 2,
      type: 'Technical Interview'
    },
    {
      round: 3,
      type: 'Managerial Interview'
    },
    {
      round: 4,
      type: 'HR Round'
    }
  ],
  benefits: [
    'Relocation',
    'WFH',
    'Health Insurance'
  ],
  isTopTier: true,
  employeeCount: 2000
}...
{
  _id: ObjectId('68b680e1c13f1f869858c807'),
  name: 'Tesla',
  location: 'Bangalore',
  salaryBand: {
    base: 31,
    stock: 6
  },
  hiringCriteria: {
    cgpa: 7,
    skills: [
      'DSA',
      'Python',
      'Distributed Systems'
    ],
    experience: '1-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'HR'
    }
  ],
  benefits: [
    'Relocation',
    'WFH'
  ],
  employeeCount: 800
}

100. Find companies where "Free Meals" is one of the benefits.

 query : db.companies.find({ benefits: "Free Meals" })

 response : {
  _id: ObjectId('68b67eacb1891130398e4eb2'),
  name: 'Meta',
  location: 'Bangalore',
  salaryBand: {
    base: 37,
    stock: 20
  },
  hiringCriteria: {
    cgpa: 8.5,
    skills: [
      'DSA',
      'React',
      'System Design'
    ],
    experience: '1-3 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'DSA'
    },
    {
      round: 3,
      type: 'System Design'
    },
    {
      round: 4,
      type: 'Culture Fit'
    },
    {
      round: 5,
      type: 'CTO Interview'
    }
  ],
  benefits: [
    'Stock Options',
    'Health Insurance',
    'Free Meals'
  ],
  employeeCount: 1500
}...
{
  _id: ObjectId('68b67eacb1891130398e4eb8'),
  name: 'Swiggy',
  location: 'Bangalore',
  salaryBand: {
    base: 26,
    stock: 5
  },
  hiringCriteria: {
    cgpa: 6.5,
    skills: [
      'DSA',
      'JavaScript',
      'Node.js'
    ],
    experience: '0-2 years'
  },
  interviewRounds: [
    {
      round: 1,
      type: 'OA'
    },
    {
      round: 2,
      type: 'Technical'
    },
    {
      round: 3,
      type: 'Managerial'
    }
  ],
  benefits: [
    'Free Meals',
    'WFH',
    'Health Insurance'
  ],
  employeeCount: 1200,
  perks: {
    transport: true
  }
}

---

## Section C. Aggregations (100 Queries)

101. `$match` companies with base >= 30.
102. `$project` name + base only.
103. `$project` new field `totalComp`.
104. `$group` avg base per location.
105. `$group` max base per company.
106. `$group` min CGPA per location.
107. `$group` total headcount by location.
108. `$sort` by base.
109. `$sort` by totalComp.
110. `$limit` to 3 top-paying companies.
111. `$skip` first 5.
112. `$count` companies in Bangalore.
113. `$unwind` benefits.
114. `$group` count of each unique benefit.
115. `$unwind` interviewRounds.
116. `$group` by interview type, count frequency.
117. `$lookup` join with `candidates` collection.
118. `$facet` pipeline → salaries vs benefits.
119. `$bucket` base salaries into \[0–10, 11–20, 21–30, 31–40].
120. `$bucketAuto` for salaryBand.base into 4 buckets.
121. `$match` companies offering "Stock Options".
122. `$project` to hide headcount.
123. `$project` boolean field `isHighPaying: base > 30`.
124. `$group` avg stock by location.
125. `$group` totalComp sum per company.
126. `$sort` by CGPA requirement descending.
127. `$match` + `$group` → avg salary only in Hyderabad.
128. `$lookup` join Student–Course schema.
129. `$lookup` join Post–User schema.
130. `$replaceRoot` to flatten salaryBand.

query: db.companies.aggregate([
  {
    $replaceRoot: {
      newRoot: { $mergeObjects: ["$salaryBand", "$$ROOT"] }
    }
  },
  {
    $project: { salaryBand: 0 }   // remove the nested field
  }
])

131. `$set` new field `salaryBand.total`.
132. `$addFields` skillCount = `$size: skills`.

query : db.companies.aggregate([
  {
    $addFields: {
      skillCount: {
        $cond: {
          if: { $isArray: "$hiringCriteria.skills" },
          then: { $size: "$hiringCriteria.skills" },
          else: 0
        }
      }
    }
  }
])

133. `$match` + `$project` → only companies with > 2 skills.
134. `$group` → number of companies per skill.
135. `$unwind` skills.
136. `$group` skill popularity across companies.
137. `$sort` skill popularity descending.
138. `$lookup` join companies with interview database.
139. `$cond` → tag "premium" if base > 30.
140. `$ifNull` → set bonus = 0 if null.
141. `$switch` → assign rating based on base salary ranges.
142. `$regexMatch` to filter names ending in "s".
143. `$merge` results into `salaryAnalysis` collection.
144. `$out` write salary analysis into `analysis` collection.
145. `$group` → total base per benefit.
146. `$group` → count companies with WFH.
147. `$sort` → companies with most benefits.
148. `$unwind` + `$group` → average CGPA per skill.
149. `$group` → avg interview rounds per location.
150. `$count` → number of interview types across dataset.
     151–200: Additional 50 queries combining `$match`, `$group`, `$project`, `$facet`, `$lookup`, `$bucket`, `$cond`, `$addFields` to cover every aggregation operator.

---

## Section D. Indexing & Performance (40 Queries)

201. Create index on `name`.

query : db.companies.createIndex({ name: 1 }) 

202. Create compound index on `location + salaryBand.base`.

query : db.companies.createIndex({ location : 1 , "skillBand.base" : 1})

203. Create text index on `skills`.

 query : db.companies.createIndex({ "hiringCriteria.skills": "text" })

204. Use `$text` search "Java".

query : db.companies.find({ $text: { $search: "Java" } })

205. Create index on `salaryBand.stock`.

query : db.companies.createIndex({ "salaryBand.stock": 1 })

206. Use `.explain("executionStats")` on a query.

query : db.companies.find({ name: "Amazon" }).explain("executionStats")

response : {
  explainVersion: '1',
  queryPlanner: {
    namespace: 'assignment.companies',
    parsedQuery: {
      name: {
        '$eq': 'Amazon'
      }
    },
    indexFilterSet: false,
    queryHash: '544F3E5C',
    planCacheShapeHash: '544F3E5C',
    planCacheKey: 'EEE0759C',
    optimizationTimeMillis: 0,
    maxIndexedOrSolutionsReached: false,
    maxIndexedAndSolutionsReached: false,
    maxScansToExplodeReached: false,
    prunedSimilarIndexes: false,
    winningPlan: {
      isCached: false,
      stage: 'FETCH',
      inputStage: {
        stage: 'IXSCAN',
        keyPattern: {
          name: 1
        },
        indexName: 'name_1',
        isMultiKey: false,
        multiKeyPaths: {
          name: []
        },
        isUnique: false,
        isSparse: false,
        isPartial: false,
        indexVersion: 2,
        direction: 'forward',
        indexBounds: {
          name: [
            '["Amazon", "Amazon"]'
          ]
        }
      }
    },
    rejectedPlans: []
  },
  executionStats: {
    executionSuccess: true,
    nReturned: 1,
    executionTimeMillis: 1,
    totalKeysExamined: 1,
    totalDocsExamined: 1,
    executionStages: {
      isCached: false,
      stage: 'FETCH',
      nReturned: 1,
      executionTimeMillisEstimate: 1,
      works: 2,
      advanced: 1,
      needTime: 0,
      needYield: 0,
      saveState: 0,
      restoreState: 0,
      isEOF: 1,
      docsExamined: 1,
      alreadyHasObj: 0,
      inputStage: {
        stage: 'IXSCAN',
        nReturned: 1,
        executionTimeMillisEstimate: 1,
        works: 2,
        advanced: 1,
        needTime: 0,
        needYield: 0,
        saveState: 0,
        restoreState: 0,
        isEOF: 1,
        keyPattern: {
          name: 1
        },
        indexName: 'name_1',
        isMultiKey: false,
        multiKeyPaths: {
          name: []
        },
        isUnique: false,
        isSparse: false,
        isPartial: false,
        indexVersion: 2,
        direction: 'forward',
        indexBounds: {
          name: [
            '["Amazon", "Amazon"]'
          ]
        },
        keysExamined: 1,
        seeks: 1,
        dupsTested: 0,
        dupsDropped: 0
      }
    }
  },
  queryShapeHash: 'D69343ACC00B8859AD9E58E04EF57F98DD67CA35E4634C1A054685A82905841F',
  command: {
    find: 'companies',
    filter: {
      name: 'Amazon'
    },
    '$db': 'assignment'
  },
  serverInfo: {
    host: 'cluster0-shard-00-01.j2rs8.mongodb.net',
    port: 27017,
    version: '8.0.13',
    gitVersion: '8dc5cd2a30c4524132e2d44bb314544dc477e611'
  },
  serverParameters: {
    internalQueryFacetBufferSizeBytes: 104857600,
    internalQueryFacetMaxOutputDocSizeBytes: 104857600,
    internalLookupStageIntermediateDocumentMaxSizeBytes: 16793600,
    internalDocumentSourceGroupMaxMemoryBytes: 104857600,
    internalQueryMaxBlockingSortMemoryUsageBytes: 33554432,
    internalQueryProhibitBlockingMergeOnMongoS: 0,
    internalQueryMaxAddToSetBytes: 104857600,
    internalDocumentSourceSetWindowFieldsMaxMemoryBytes: 104857600,
    internalQueryFrameworkControl: 'trySbeRestricted',
    internalQueryPlannerIgnoreIndexWithCollationForRegex: 1
  },
  ok: 1,
  '$clusterTime': {
    clusterTime: Timestamp({ t: 1757228294, i: 3 }),
    signature: {
      hash: Binary.createFromBase64('sXKutnU+6zgni/ucWpj6JS8Yd/4=', 0),
      keyId: 7512184403871662000
    }
  },
  operationTime: Timestamp({ t: 1757228294, i: 3 })
}

207. Drop index on `name`.
208. Create unique index on `name`.
209. Create sparse index on `benefits`.
210. Create partial index for base > 25.
211. Query with text index sorted by score.
212. Create collation for case-insensitive `name`.
213. Compound index on \[location, headcount].
214. Covered query with projection.
215. Multi-key index for `benefits` array.
216. Test performance with vs without index.
217. Use `.hint()` to force index.
218. Wildcard index for dynamic keys.
219. TTL index for `postedAt`.
220. Hashed index on `name` (sharding).
221. Background index creation.
222. Drop all indexes.
223. Recreate index on CGPA.
224. Unique + partial index on location = Bangalore.
225. Explain plan for range query.
226. Create text + compound index.
227. Covered query example for base + stock.
228. Query sorted by compound index fields.
229. Explain stats for regex query.
230. Paginate using index on base.
231. Paginate using skip-limit.
232. Compare pagination performance.
233. Test query with array index.
234. Index nested field `hiringCriteria.cgpa`.
235. Drop index on benefits.
236. Rebuild all indexes.
237. Analyze query cache.
238. Use `.hint()` wrong index and observe.
239. Index with case-insensitive collation.
240. Multi-field partial index.

---

## Section E. Bonus Challenges (40 Queries)

241. Find **top 5 highest-paying companies** that also offer WFH.
242. Find companies with **avg salary > 30 LPA** grouped by location.
243. Find **companies requiring DSA** and sort by totalComp.
244. Find **companies where base > avg(base)**.
245. Bucket companies by **CGPA requirement**.
246. Find **most common skill** required across companies.
247. Find **most common benefit** offered.
248. Rank companies by **salary in each location**.
249. Dashboard pipeline: `{ location, avgSalary, topCompany }`.
250. Count **average interview rounds** per company.
251. Find companies with both "Stock Options" and "Relocation".
252. Find total employees across all Bangalore companies.
253. Find company with **highest stock** in salary.
254. Find company with **lowest bonus**.
255. Find **all skills required across all companies**.
256. Count **unique interview types** across dataset.
257. Create a leaderboard of **companies by headcount**.
258. Find **companies offering device discounts**.
259. Find **companies where benefits > skills count**.
260. Nested populate simulation (companies ↔ candidates).
261. Find **average stock by location**.
262. Find **companies where salary > 1.5x avg salary**.
263. Find **locations with more than 3 companies**.
264. Find **companies in Bangalore with WFH and >25 base**.
265. Find **companies that don’t require CGPA >= 7.5**.
266. Find **top 3 companies by interview rounds count**.
267. Find **distribution of salaries into 5 bands**.
268. Build a **search API** style query with `$text` + `$meta`.
269. Count **companies by experience requirement**.
270. Find **companies offering both Free Meals and Free Lunch**.
271. Find **location with highest avg stock**.
272. Rank **skills by frequency** across dataset.
273. Find **company offering stock + base > 40**.
274. Find **companies requiring Java but not System Design**.
275. Find **companies where interview type = "Culture Fit"**.
276. Find **companies where base > stock+bonus**.
277. Find **company with maximum total compensation**.
278. Build a pipeline to compute **salary percentiles**.
279. Group companies by **benefit count**.
280. Output final dashboard:

```
{
  totalCompanies,
  avgBase,
  mostCommonSkill,
  mostCommonBenefit,
  highestPayingCompany
}
```

---
